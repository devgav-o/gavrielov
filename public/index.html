<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="theme-color" content="#000000" />
        <meta name="description" content="האתר השמי." />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@600&display=swap"
            rel="stylesheet"
        />

        <link rel="shortcut icon" href="favicon.png" type="image/x-icon" />
        <title>Gavrielov</title>
    </head>
    <body>
        <noscript>You need to enable JavaScript to run this app.</noscript>
        <div id="root"></div>
        <a
            target="_blank"
            href="https://apple.com"
            style="
                display: flex !important;
                align-items: center !important;
                position: fixed !important;
                bottom: 20px;
                right: 20px;
                text-decoration: none;
                padding: 6px 10px;
                font-family:
                    -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
                    Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue',
                    sans-serif !important;
                font-size: 12px !important;
                z-index: 9999 !important;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
                border-radius: 8px !important;
                background-color: #ffffff !important;
                border: 1px solid rgba(255, 255, 255, 0 0.25) !important;
            "
        >
            <div
                style="
                    display: flex;
                    flex-direction: row;
                    align-items: center;
                    border-radius: 100px;
                "
            >
                <div
                    style="
                        margin-right: 5px;
                        margin-left: 5px;
                        display: flex;
                        flex-shrink: -1;
                        width: 20px;
                        height: 20px;
                        border-radius: 999px;
                        align-items: center;
                        justify-content: center;
                        border: 10px solid black;
                        color: white;
                    "
                >
                    ⌘
                </div>
                <p
                    style="
                        color: #000000;
                        font-family:
                            -apple-system, BlinkMacSystemFont, 'Segoe UI',
                            Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans',
                            'Helvetica Neue', sans-serif !important;
                        font-size: 12px !important;
                        align-items: center;
                        margin-bottom: 0;
                    "
                >
                    <span class="en-text">Built by Gavriel</span>
                    <span class="he-text" style="display: none"
                        >נבנה ע"י גבריאל</span
                    >
                </p>
            </div>
        </a>
        <script>
            (function () {
                const enText = document.querySelector('.en-text');
                const heText = document.querySelector('.he-text');

                function updateLanguageDisplay() {
                    const rawLang =
                        document.documentElement.lang ||
                        navigator.language ||
                        navigator.userLanguage ||
                        'en';
                    const lang = String(rawLang).split('-')[0];

                    if (lang === 'he') {
                        if (enText) enText.style.display = 'none';
                        if (heText) heText.style.display = 'inline';
                    } else {
                        if (enText) enText.style.display = 'inline';
                        if (heText) heText.style.display = 'none';
                    }
                }

                // Initial run
                updateLanguageDisplay();

                // Observe changes to the <html> lang attribute so dynamic updates work
                const observer = new MutationObserver((mutations) => {
                    for (const m of mutations) {
                        if (
                            m.type === 'attributes' &&
                            m.attributeName === 'lang'
                        ) {
                            updateLanguageDisplay();
                        }
                    }
                });
                observer.observe(document.documentElement, {
                    attributes: true,
                });

                // Also ensure we run after DOM load
                document.addEventListener(
                    'DOMContentLoaded',
                    updateLanguageDisplay,
                );
                window.addEventListener('load', updateLanguageDisplay);
            })();
        </script>
    </body>
</html>
